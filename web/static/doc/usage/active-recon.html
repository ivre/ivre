

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Active recon &mdash; IVRE  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Passive" href="passive.html" />
    <link rel="prev" title="Some use cases" href="use-cases.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> IVRE
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.9.14.dev
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Usage</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="use-cases.html">Some use cases</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Active recon</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scanning">Scanning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#with-nmap-masscan-or-zgrab2">With Nmap, Masscan or Zgrab2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#with-ivre">With IVRE</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#enjoying-the-results">Enjoying the results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cli">CLI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python-module">Python module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="passive.html">Passive</a></li>
<li class="toctree-l2"><a class="reference internal" href="flow.html">Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="web-ui.html">Web User Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="kibana.html">IVRE with Kibana</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">Development</a></li>
</ul>
<p class="caption"><span class="caption-text">Licenses:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license.html">IVRE: GPL v3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license-external.html">Licenses for external files</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IVRE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Usage</a> &raquo;</li>
        
      <li>Active recon</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/usage/active-recon.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="active-recon">
<h1>Active recon<a class="headerlink" href="#active-recon" title="Permalink to this headline">¶</a></h1>
<div class="section" id="scanning">
<h2>Scanning<a class="headerlink" href="#scanning" title="Permalink to this headline">¶</a></h2>
<div class="section" id="with-nmap-masscan-or-zgrab2">
<h3>With Nmap, Masscan or Zgrab2<a class="headerlink" href="#with-nmap-masscan-or-zgrab2" title="Permalink to this headline">¶</a></h3>
<p>You can use directly <a class="reference external" href="http://nmap.org/">Nmap</a>, <a class="reference external" href="https://github.com/robertdavidgraham/masscan/">Masscan</a> or <a class="reference external" href="https://zmap.io/">Zgrab2</a> to run the scans. Use <code class="docutils literal notranslate"><span class="pre">-oX</span></code> to produce an XML
output with Nmap or Masscan, and <code class="docutils literal notranslate"><span class="pre">-o</span></code> to produce a JSON output with
Zgrab2.</p>
<p>Then, provide that output to the command line tool <code class="docutils literal notranslate"><span class="pre">ivre</span> <span class="pre">scan2db</span></code>;
if you want to use the <a class="reference internal" href="web-ui.html#web-user-interface"><span class="std std-ref">Web User Interface</span></a>, use
<code class="docutils literal notranslate"><span class="pre">ivre</span> <span class="pre">db2view</span> <span class="pre">nmap</span></code> and you’re good!</p>
</div>
<div class="section" id="with-ivre">
<h3>With IVRE<a class="headerlink" href="#with-ivre" title="Permalink to this headline">¶</a></h3>
<p>Masscan does not provide results as complete as Nmap, when using the
“interesting” options (for example, <code class="docutils literal notranslate"><span class="pre">-vv</span> <span class="pre">-A</span></code>) or scripts. That being
said, Nmap (with such “interesting” options) cannot run efficiently
against huge networks.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ivre</span> <span class="pre">runscans</span></code> tool can run one Nmap process per target (option
<code class="docutils literal notranslate"><span class="pre">--output=XMLFork</span></code>). This should be less efficient in theory,
because Nmap supposedly knows better how to handle the host and
network resources, but in practice it is much more efficient. You can
adjust how many Nmap processes you want to run in parallel using the
<code class="docutils literal notranslate"><span class="pre">--processes</span> <span class="pre">N</span></code> option.</p>
<p>Another advantage of using <code class="docutils literal notranslate"><span class="pre">ivre</span> <span class="pre">runscans</span> <span class="pre">--output=XMLFork</span></code> over
using Nmap directly is that <code class="docutils literal notranslate"><span class="pre">ivre</span> <span class="pre">runscans</span></code> produces output files as
soon as each host has been scanned (in the <code class="docutils literal notranslate"><span class="pre">scans/*/up</span></code> directory).</p>
<p>Here is a simple example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo ivre runscans --routable --limit 1000 --output=XMLFork
</pre></div>
</div>
<p>This will run a standard scan against 1000 random hosts on the Internet
by running 30 nmap processes in parallel. See the output of
<code class="docutils literal notranslate"><span class="pre">ivre</span> <span class="pre">help</span> <span class="pre">runscans</span></code> if you want to do something else.</p>
<p>When it’s over, to import the results in the database and create a
view from them, run (<code class="docutils literal notranslate"><span class="pre">ROUTABLE-001</span></code> is the category name, and
<code class="docutils literal notranslate"><span class="pre">MySource</span></code> is the source name, usually referencing the machine used
to run the scan):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ivre scan2db -c ROUTABLE-001 -s MySource -r scans/ROUTABLE/up
$ ivre db2view nmap
</pre></div>
</div>
</div>
</div>
<div class="section" id="enjoying-the-results">
<h2>Enjoying the results<a class="headerlink" href="#enjoying-the-results" title="Permalink to this headline">¶</a></h2>
<p>You have several options, depending on what you want to do:</p>
<ul>
<li><p>Command line interfaces: the <code class="docutils literal notranslate"><span class="pre">ivre</span> <span class="pre">scancli</span></code> tool.</p></li>
<li><p>Python API: use the <code class="docutils literal notranslate"><span class="pre">db.nmap</span></code> object of the <code class="docutils literal notranslate"><span class="pre">ivre.db</span></code> module.</p></li>
<li><p>Web interface:</p>
<blockquote>
<div><ul class="simple">
<li><p>Using <code class="docutils literal notranslate"><span class="pre">ivre</span> <span class="pre">db2view</span></code>, you can create or update a view from the
scan data, that can then be accessed by the <code class="docutils literal notranslate"><span class="pre">view</span></code> purpose (see
<a class="reference internal" href="../overview/principles.html#purposes"><span class="std std-ref">Purposes</span></a>), which includes the
<a class="reference internal" href="web-ui.html#web-user-interface"><span class="std std-ref">Web User Interface</span></a>.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="section" id="cli">
<h3>CLI<a class="headerlink" href="#cli" title="Permalink to this headline">¶</a></h3>
<p>To get all the hosts with the port 22 open:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ivre scancli --port 22
</pre></div>
</div>
<p>See the output of <code class="docutils literal notranslate"><span class="pre">ivre</span> <span class="pre">help</span> <span class="pre">scancli</span></code>.</p>
</div>
<div class="section" id="python-module">
<h3>Python module<a class="headerlink" href="#python-module" title="Permalink to this headline">¶</a></h3>
<p>To use the Python module, run for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python
&gt;&gt;&gt; from ivre.db import db
&gt;&gt;&gt; db.nmap.get(db.nmap.flt_empty)[0]
</pre></div>
</div>
<p>For more, run <code class="docutils literal notranslate"><span class="pre">help(db.nmap)</span></code> from the Python shell.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="passive.html" class="btn btn-neutral float-right" title="Passive" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="use-cases.html" class="btn btn-neutral float-left" title="Some use cases" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011 - 2020, Pierre LALET

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>